import"./modulepreload-polyfill-B5Qt9EMX.js";const l="https://docs.google.com/spreadsheets/d/e/2PACX-1vTZmUBMd1XX8aZmgwq4YIoC9bpYAfz-jsFwulfpHKmmokAwYITjlE5iSa7AVxdId8O3MIMUfLqLbrhK/pub?output=csv",d="https://docs.google.com/forms/u/0/d/e/1FAIpQLScPZJ1NzpMRkIBkST-2YE8hGu2p3CHHrSlE2MLvwtFs7fuBSw/formResponse",m="entry.1441388629",u="entry.952762606";let r=[];async function p(){try{const t=document.getElementById("formGroup");t.style.display="none",r=[],r=(await(await fetch(l)).text()).split(`
`).map(i=>i.split(",")).map(i=>({name:i[0].trim().toLowerCase(),status:i[1].trim().toLowerCase()})),t.style.display="flex"}catch(t){console.error("fail fetching invites"),console.log(t);const e=document.getElementById("result");e.innerHTML="<p>Something went wrong. Please try again later.</p>"}}async function y(){const t=document.getElementById("searchInput").value.trim().toLowerCase(),e=document.getElementById("result");if(e.innerHTML="",!t){e.innerHTML="<p>Please enter a name.</p>";return}let o=r.find(n=>n.name===t);o?f(o,t):e.innerHTML=`<p>Sorry, <b>${t}</b> is not on the invite list.</p>`}function f(t,e){const o=document.getElementById("result");let{status:n}=t,i=e.toUpperCase();if(!n||n!="confirmed"&&n!="declined")o.innerHTML=`
      <p>Welcome <b>${i}</b>! You are invited. ðŸŽ‰</p>
      <div class="confirmation-actions">
        <button id="confirmBtn" class="confirmation-button">Confirm Attendance</button>
        <button id="declineBtn" class="confirmation-button">Decline</button>
      </div>
    `,document.getElementById("confirmBtn").addEventListener("click",()=>s(e,"Confirmed")),document.getElementById("declineBtn").addEventListener("click",()=>s(e,"Declined"));else{o.innerHTML=`
      <p>Hi <b>${i}</b>, you are invited and already responded. Current status: <b>${n.toUpperCase()}</b></p>
      <p>If youâ€™d like to change your response, you may update so we can inform the soon to be couple with your availability.</p>
      <div class="confirmation-actions">
        <button id="updateConfirmBtn" class="confirmation-button">Update to Confirmed</button>
        <button id="updateDeclineBtn" class="confirmation-button">Update to Declined</button>
      </div>
    `,document.getElementById("updateConfirmBtn").addEventListener("click",()=>s(e,"Confirmed")),document.getElementById("updateDeclineBtn").addEventListener("click",()=>s(e,"Declined"));let a=document.getElementById("updateConfirmBtn"),c=document.getElementById("updateDeclineBtn");n==="confirmed"||n==="Confirmed"?(a.style.display="none",c.style.display="inline-block"):n==="declined"||n==="Declined"?(c.style.display="none",a.style.display="inline-block"):(a.style.display="none",c.style.display="none")}}async function s(t,e){const o=new FormData;o.append(m,t.toUpperCase()),o.append(u,e);try{await fetch(d,{method:"POST",mode:"no-cors",body:o}),alert(`Thank you, ${t.toUpperCase()}! Your RSVP has been recorded."`),window.location.replace(window.location.href)}catch(n){console.error(n),alert("There was an error submitting your RSVP.")}}function v(){const t=document.getElementById("nav-toggle"),e=document.querySelector(".nav-links");t.addEventListener("click",()=>{e.classList.toggle("show")}),e.querySelectorAll("a").forEach(n=>{n.addEventListener("click",()=>{e.classList.remove("show")})})}v();document.getElementById("searchBtn").addEventListener("click",y);await p();
